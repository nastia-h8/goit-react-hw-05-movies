{"version":3,"file":"static/js/415.bc8b9bec.chunk.js","mappings":"oKA6BA,IA1BA,YAA2C,IAAtBA,EAAqB,EAArBA,OAAqB,IAAbC,KAAAA,OAAa,MAAN,GAAM,EAClCC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,wBACGH,EAAOI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKN,GAAL,OAAYI,GAAMG,MAAO,CAAEC,KAAMP,GAAzC,SACGI,KAFID,EADC,KASjB,C,+ICbc,SAASK,IACtB,OAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,WAAS,GAAnC,eAAOK,EAAP,KAAcC,EAAd,KAwBA,OAtBAC,EAAAA,EAAAA,YAAU,WAGR,IAAMC,EAAmB,mCAAG,oGAExBJ,GAAa,GAFW,SAIIK,EAAAA,KAJJ,OAIlBC,EAJkB,OAKxBR,EAAkBQ,GALM,gDAOL,iBAAf,KAAMC,MAAyBL,GAAS,GAPpB,yBASxBF,GAAa,GATW,4EAAH,qDAczB,OAFAI,IAEO,WAEN,CACF,GAAE,KAGD,iCACE,2CACCL,IAAa,sCACbE,IAAS,yEACTJ,EAAeW,OAAS,IACvB,SAAC,IAAD,CAAWvB,OAAQY,EAAgBX,KAAK,cAI/C,C,+LCvCKuB,EAAU,CACdC,OAAQ,CACNC,QAAS,mCACTC,SAAU,UAKP,SAAeC,IAAtB,+B,aAAO,O,oBAAA,oGACkBC,EAAAA,EAAAA,IAAU,sBAAuBL,GADnD,cACCM,EADD,yBAGEA,EAASC,KAAKC,SAHhB,kEAeA,SAAeC,EAAtB,kC,aAAO,O,oBAAA,WAAyBC,GAAzB,uFACkBL,EAAAA,EAAAA,IAAA,8BACEK,EADF,+BAErBV,GAHG,cACCM,EADD,yBAMEA,EAASC,KAAKC,SANhB,kEA6BA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,uFACkBP,EAAAA,EAAAA,IAAA,iBAAoBO,GAAWZ,GADjD,cACCM,EADD,yBAGEA,EAASC,MAHX,kEAMA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAA4BD,GAA5B,uFACkBP,EAAAA,EAAAA,IAAA,iBAAoBO,EAApB,YAAuCZ,GADzD,cACCM,EADD,yBAGEA,EAASC,KAAKO,MAHhB,kEAMA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BH,GAA/B,uFACkBP,EAAAA,EAAAA,IAAA,gBAAmBO,EAAnB,mBAA6CZ,GAD/D,cACCM,EADD,yBAGEA,EAASC,KAAKC,SAHhB,kEAzDPH,EAAAA,EAAAA,SAAAA,QAAA,8B","sources":["components/MovieList.jsx","pages/Home.jsx","services/movies-api.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction MovieList({ movies, path = '' }) {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(({ id, title }) => (\n        <li key={id}>\n          <Link to={`${path}${id}`} state={{ from: location }}>\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  path: PropTypes.string,\n};\n\nexport default MovieList;\n","import { useEffect, useState } from 'react';\nimport * as moviesAPI from 'services/movies-api';\nimport MovieList from 'components/MovieList';\n\nexport default function Home() {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    // const controller = new AbortController();\n\n    const fetchTrendingMovies = async () => {\n      try {\n        setIsLoading(true);\n\n        const fetchedMovies = await moviesAPI.getTrendingMovies();\n        setTrendingMovies(fetchedMovies);\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') setError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchTrendingMovies();\n\n    return () => {\n      // controller.abort();\n    };\n  }, []);\n\n  return (\n    <>\n      <h1>Trending today</h1>\n      {isLoading && <p>Loading...</p>}\n      {error && <p>Oops, something went wrong...Try again later!</p>}\n      {trendingMovies.length > 0 && (\n        <MovieList movies={trendingMovies} path=\"movies/\" />\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst options = {\n  params: {\n    api_key: '5c432334b8202e077ccc8c7b5fc7d7ab',\n    language: 'en-US',\n  },\n};\n\naxios.defaults.baseURL = `https://api.themoviedb.org/3`;\nexport async function getTrendingMovies() {\n  const response = await axios.get('/trending/movie/day', options);\n  // console.log(response.data);\n  return response.data.results;\n}\n\n// export async function getTrendingMovies(controller) {\n//   const response = await axios.get('/trending/movie/day', {\n//     ...options,\n//     signal: controller.signal,\n//   });\n//   // console.log(response.data);\n//   return response.data.results;\n// }\n\nexport async function getMovies(query) {\n  const response = await axios.get(\n    `/search/movie?query=${query}&include_adult=false&page=1`,\n    options\n  );\n  // console.log(response.data);\n  return response.data.results;\n}\n\n// export async function getMovies(query, controller) {\n//   const response = await axios.get(\n//     `/search/movie?query=${query}&include_adult=false&page=1`,\n//     {\n//       ...options,\n//       signal: controller.signal,\n//     }\n//   );\n//   return response.data.results;\n// }\n\n// export async function getMovieDetails(movieId, controller) {\n//   const response = await axios.get(`/movie/${movieId}`, {\n//     ...options,\n//     signal: controller.signal,\n//   });\n//   // console.log(response.data);\n//   return response.data;\n// }\n\nexport async function getMovieDetails(movieId) {\n  const response = await axios.get(`/movie/${movieId}`, options);\n  // console.log(response.data);\n  return response.data;\n}\n\nexport async function getMovieCast(movieId) {\n  const response = await axios.get(`/movie/${movieId}/credits`, options);\n  // console.log(response.data);\n  return response.data.cast;\n}\n\nexport async function getMovieReviews(movieId) {\n  const response = await axios.get(`movie/${movieId}/reviews?page=1`, options);\n  // console.log(response.data);\n  return response.data.results;\n}\n"],"names":["movies","path","location","useLocation","map","id","title","to","state","from","Home","useState","trendingMovies","setTrendingMovies","isLoading","setIsLoading","error","setError","useEffect","fetchTrendingMovies","moviesAPI","fetchedMovies","code","length","options","params","api_key","language","getTrendingMovies","axios","response","data","results","getMovies","query","getMovieDetails","movieId","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}